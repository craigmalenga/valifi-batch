<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=0.85, maximum-scale=5.0, user-scalable=yes"/>
  <title>Vehicle Finance Check Service</title>
  <link rel="stylesheet" href="/static/style.css" />
  <!-- Fallback inline styles for immediate visual feedback -->
  <style>
    /* Critical inline styles in case external CSS fails */
    :root {
      --primary-color: #2199E8;
      --secondary-color: #F57F30;
      --purple-color: rebeccapurple;
      --burgundy-color: #880A51;
      --dark-color: #21212D;
      --green-color: #ACBD31;
    }
    
    /* Front Loading Page Styles */
    .loading-page {
      display: flex;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      z-index: 10000;
      align-items: center;
      justify-content: center;
      transition: opacity 0.5s ease;
    }
    
    .loading-page.hidden {
      opacity: 0;
      pointer-events: none;
    }
    
    .loading-content-container {
      text-align: center;
      padding: 2rem;
      max-width: 600px;
    }
    
    .loading-logo {
      font-size: 3rem;
      margin-bottom: 2rem;
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
    
    .loading-title {
      font-size: 2rem;
      color: var(--purple-color);
      margin-bottom: 1rem;
      font-weight: 700;
    }
    
    .loading-subtitle {
      font-size: 1.25rem;
      color: #6c757d;
      margin-bottom: 3rem;
    }
    
    .loading-spinner {
      width: 60px;
      height: 60px;
      border: 4px solid rgba(0,0,0,0.1);
      border-top: 4px solid var(--primary-color);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 2rem;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .loading-message {
      font-size: 1rem;
      color: #6c757d;
    }
    
    /* FORCE VISIBILITY OF FORM */
    .form-step {
      display: none;
      opacity: 1 !important;
      visibility: visible !important;
    }
    
    .form-step.active {
      display: block !important;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      min-height: 100vh;
      margin: 0;
      padding: 0;
      font-size: 1.2rem;
    }
    
    .container {
      max-width: 900px;
      margin: 2rem auto;
      padding: 3rem;
      background: white;
      border-radius: 24px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.15);
      overflow-x: hidden;
    }
    
    .container * {
      max-width: 100%;
    }
    
    /* Ensure form steps are visible */
    .form-step {
      animation: fadeIn 0.3s ease-in;
    }
    
    .form-step.active {
      display: block !important;
    }
    
    .section-heading {
      color: rebeccapurple;
      text-align: center;
      font-size: 2rem;
      margin-bottom: 2rem;
    }
    
    .form-group {
      margin-bottom: 1.5rem;
    }
    
    .form-label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 600;
    }
    
    .form-input, .form-select {
      width: 100%;
      padding: 0.875rem 1rem;
      font-size: 1rem;
      border: 2px solid #dee2e6;
      border-radius: 12px;
    }
    
    .title-button-group {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 0.5rem;
      margin-bottom: 1rem;
    }
    
    .title-btn {
      padding: 0.875rem 1.5rem;
      border: 2px solid #dee2e6;
      border-radius: 12px;
      background: white;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .title-btn-other {
      grid-column: 2 / 4;
    }
    
    .title-btn:hover {
      border-color: var(--primary-color);
      transform: translateY(-2px);
    }
    
    .title-btn.active {
      background: var(--dark-color);
      color: white;
      border-color: var(--dark-color);
    }
    
    .btn {
      padding: 0.875rem 2rem;
      font-weight: 600;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .btn-primary {
      background: var(--primary-color);
      color: white;
    }
    
    .btn-secondary {
      background: var(--secondary-color);
      color: white;
    }
    
    .button-row {
      display: flex;
      justify-content: space-between;
      gap: 1rem;
      margin-top: 2rem;
    }
    
    /* Progress bar styles - uniform spacing */
    .progress-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 3rem;
      padding: 2rem;
      background: transparent;
      border-radius: 16px;
      overflow: visible;
      width: 100%;
      max-width: 100%;
    }
    
    .progress-step {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
      position: relative;
      flex: 1;
      max-width: 150px;
    }
    
    /* Create connector lines */
    .progress-step:not(:last-child)::after {
      content: '';
      position: absolute;
      width: calc(100% - 48px);
      height: 2px;
      background: #e9ecef;
      left: calc(50% + 24px);
      top: 24px;
      z-index: 1;
    }
    
    .progress-step.completed:not(:last-child)::after {
      background: #28a745;
    }
    
    .step-number {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: #e9ecef;
      color: #6c757d;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 1.125rem;
    }
    
    .progress-step.active .step-number {
      background: var(--primary-color);
      color: white;
      box-shadow: 0 0 0 4px rgba(33, 153, 232, 0.1);
    }
    
    .progress-step.completed .step-number {
      background: #28a745;
      color: white;
    }
    
    .error-message {
      color: #dc3545;
      font-size: 0.875rem;
      margin-top: 0.5rem;
      display: none;
    }
    
    /* CENTERING FIX - ONLY CHANGE */
    .form-steps-container {
      width: 100%;
      display: flex;
      justify-content: center;
      flex-direction: column;
      align-items: center;
      overflow-x: hidden;
    }
    
    .form-step {
      max-width: 600px;
      width: 100%;
      overflow-x: hidden;
    }
    
    .trust-logo {
      width: 360px;
      height: auto;
      opacity: 0.8;
      transition: opacity 0.3s ease;
    }
    
    .trust-logo:hover {
      opacity: 1;
    }
    
    .page-footer {
      margin-top: 3rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.5rem;
      padding-top: 2rem;
      border-top: 1px solid #dee2e6;
    }
    
    @media (max-width: 768px) {
      .container {
        margin: 0.5rem;
        padding: 1.5rem;
        max-width: calc(100vw - 1rem);
        width: calc(100vw - 1rem);
      }
      
      .progress-bar {
        margin-bottom: 2rem;
        padding: 1rem;
        gap: 0.5rem;
      }
      
      /* Hide connector lines on mobile */
      .progress-step:not(:last-child)::after {
        display: none;
      }
      
      .button-row {
        flex-direction: column;
      }
      
      .btn {
        width: 100%;
      }
      
      .title-button-group {
        grid-template-columns: repeat(3, 1fr);
      }
      
      .title-btn-other {
        grid-column: 2 / 4;
      }
      
      .dob-container {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <!-- Front Loading Page -->
  <div class="loading-page" id="loadingPage">
    <div class="loading-content-container">
      <div class="loading-logo">üöó</div>
      <h1 class="loading-title">Vehicle Finance Check Service</h1>
      <p class="loading-subtitle">Checking if your car finance was fair</p>
      <div class="loading-spinner"></div>
      <p class="loading-message">Preparing your secure form...</p>
    </div>
  </div>

  <div class="container">
    <!-- Emergency message if nothing loads -->
    <noscript>
      <div style="padding: 20px; background: #f8d7da; color: #721c24; border-radius: 8px;">
        JavaScript is required for this application to work.
      </div>
    </noscript>
    
    <form id="searchForm" autocomplete="on" novalidate>

      <!-- === STEP 0: Welcome Screen === -->
      <div class="form-step active" id="step0">
        <div class="welcome-container">
          <h1 class="welcome-title">Think You Overpaid on Car Finance?<br>
            It's free to check ‚Äî takes just 60 seconds<br>
            and won't affect your credit</h1>
          
          <div class="welcome-benefits">
            <div class="benefit-item">
              <img src="/static/icons/tick.png" alt="Tick" class="benefit-icon">
              <div class="benefit-content">
                <h3 class="benefit-title">Free to Check</h3>
                <p class="benefit-subtext">You can contact lenders yourself ‚Äî but we handle the full process for free, with no upfront cost</p>
              </div>
            </div>
            <div class="benefit-item">
              <img src="/static/icons/tick.png" alt="Tick" class="benefit-icon">
              <div class="benefit-content">
                <h3 class="benefit-title">We Find Your Agreements for You</h3>
                <p class="benefit-subtext">No paperwork needed ‚Äî we securely scan your credit profile to find past car finance</p>
              </div>
            </div>
            <div class="benefit-item">
              <img src="/static/icons/tick.png" alt="Tick" class="benefit-icon">
              <div class="benefit-content">
                <h3 class="benefit-title">No Win = No Fee</h3>
                <p class="benefit-subtext">If you're eligible and we recover funds, our fee comes from the payout. If not, you pay nothing</p>
              </div>
            </div>
          </div>
          
          <div class="welcome-button-container">
            <button type="button" class="btn btn-primary btn-large" id="start_journey">
              Let's get started
            </button>
            
            <div class="welcome-footer">
              <p class="footer-disclaimer">We'll explain our fees clearly if we think you may have a claim. <br>Full details are shared before you decide to proceed.</p>
              <img src="/static/icons/trust_secure.png" alt="Trust and Security" class="trust-logo">
            </div>
          </div>
        </div>
      </div>

      <!-- Mobile-Responsive Progress Indicator -->
      <div class="progress-bar" id="main_progress_bar" style="display:none;">
        <div class="progress-step active" data-step="1">
          <span class="step-number">1</span>
          <span class="step-label">Tell Us<br>About You</span>
        </div>
        <div class="progress-step" data-step="2">
          <span class="step-number">2</span>
          <span class="step-label">Where Do You<br>Call Home?</span>
        </div>
        <div class="progress-step" data-step="3">
          <span class="step-number">3</span>
          <span class="step-label">Confirm<br>Your Mobile</span>
        </div>
        <div class="progress-step" data-step="4">
          <span class="step-number">4</span>
          <span class="step-label">Prove it's<br>Really You</span>
        </div>
        <div class="progress-step" data-step="5">
          <span class="step-number">5</span>
          <span class="step-label">Your<br>Lenders</span>
        </div>
        <div class="progress-step" data-step="6">
          <span class="step-number">6</span>
          <span class="step-label">Final Steps<br>Submit Claim</span>
        </div>
      </div>

      <!-- CENTERING WRAPPER - ONLY CHANGE -->
      <div class="form-steps-container">
        <!-- === STEP 1: Personal Info === -->
        <div class="form-step" id="step1" style="display:none;">
          <div class="step-header">
            <h2 class="section-heading">Ready to Roll? Who Financed the Vehicle?</h2>
            <p class="step-subtitle">Did you enter into a finance agreement to purchase a motor vehicle between 2007 and 2021?  If you, you could be entitled to compensation if the dealership or sales person did not explain the finance options clearly and they did not disclose their commission from the finance agreement sale. <strong><br><br>Submit your details here to start your compensation claim enquiry</strong></p>
          </div>
          
          <div class="form-section">
            <div class="form-group">
              <label class="form-label">Title <span class="required">*</span></label>
              <div class="title-button-group" id="title_buttons">
                <button type="button" class="title-btn" data-value="Mr">Mr</button>
                <button type="button" class="title-btn" data-value="Mrs">Mrs</button>
                <button type="button" class="title-btn" data-value="Miss">Miss</button>
                <button type="button" class="title-btn" data-value="Ms">Ms</button>
                <button type="button" class="title-btn title-btn-other" data-value="Other">Other</button>
              </div>
              <input type="hidden" id="title" name="title" required />
              <span class="error-message" id="title_error"></span>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="first_name">First Name <span class="required">*</span></label>
                <input type="text" id="first_name" class="form-input" required autocomplete="given-name" placeholder="As on documents">
                <span class="error-message" id="first_name_error"></span>
              </div>

              <div class="form-group">
                <label class="form-label" for="middle_name">Middle Name(s)</label>
                <input type="text" id="middle_name" class="form-input" autocomplete="additional-name" placeholder="Optional">
              </div>
            </div>

            <div class="form-group">
              <label class="form-label" for="last_name">Last Name <span class="required">*</span></label>
              <input type="text" id="last_name" class="form-input" required autocomplete="family-name" placeholder="As on documents">
              <span class="error-message" id="last_name_error"></span>
            </div>
            
            <div class="form-group">
              <label class="form-label">Date of Birth <span class="required">*</span></label>
              <div class="dob-container">
                <select id="dob_day" class="form-select" required>
                  <option value="">Day</option>
                </select>
                <select id="dob_month" class="form-select" required>
                  <option value="">Month</option>
                </select>
                <div class="year-input-group">
                  <input type="number" id="dob_year" class="form-input" placeholder="YYYY" min="1900" max="2023" required />
                  <div class="year-slider-container">
                    <input type="range" id="year_slider" class="year-slider" min="1900" max="2023" />
                    <div class="slider-tooltip" id="slider_tooltip"></div>
                  </div>
                </div>
              </div>
              <span class="error-message" id="dob_error"></span>
            </div>

            <div class="form-group">
              <label class="form-label" for="email">Email Address <span class="required">*</span></label>
              <input type="email" id="email" name="email" class="form-input" required autocomplete="email" placeholder="your@email.com" />
              <span class="error-message" id="email_error"></span>
            </div>
          </div>

          <div class="button-row">
            <button type="button" class="btn btn-secondary" id="clear_step1">
              <span class="btn-icon">‚Üª</span> Clear Data
            </button>
            <button type="button" class="btn btn-primary" id="next_to_step2">
              Continue <span class="btn-icon">‚Üí</span>
            </button>
          </div>
          
          <div class="page-footer">
            <p class="footer-disclaimer">We'll explain our fees clearly if we think you may have a claim. <br>Full details are shared before you decide to proceed.</p>
            <img src="/static/icons/trust_secure.png" alt="Trust and Security" class="trust-logo">
          </div>
        </div>

        <!-- === STEP 2: Address === -->
        <div class="form-step" id="step2" style="display:none;">
          <div class="step-header">
            <h2 class="step-title">What's your address?</h2>
            <p class="step-subtitle">We'll use this to track down prior vehicle finance in your name. If you can take a few more moments, please add any prior addresses if you moved to your new place recently</p>
          </div>

          <div class="form-section">
            <div class="address-lookup-section">
              <div class="form-group">
                <label class="form-label">Find Your Address</label>
                <div class="postcode-lookup">
                  <input type="text" id="lookup_postcode" class="form-input" placeholder="Enter your postcode" autocomplete="postal-code" />
                  <button type="button" class="btn btn-primary" id="address_lookup_btn">
                    <span class="btn-icon">üîç</span> Find Address
                  </button>
                </div>
              </div>

              <div id="address_container" class="address-select-container" style="display:none;">
                <label class="form-label" for="address_select">Select Your Address</label>
                <select id="address_select" name="address_select" class="form-select">
                  <option value="">Choose from list...</option>
                </select>
              </div>

              <div id="address_error" class="error-message"></div>

              <div class="manual-entry-toggle">
                <button type="button" class="btn-link" id="manual_address_toggle">
                  Enter address manually
                </button>
              </div>
            </div>

            <div class="address-fields" id="manual_address_fields" style="display:none;">
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label" for="building_number">Building Number</label>
                  <input type="text" id="building_number" name="buildingNumber" class="form-input" placeholder="e.g. 123" />
                </div>
                <div class="form-group">
                  <label class="form-label" for="building_name">Building Name</label>
                  <input type="text" id="building_name" name="buildingName" class="form-input" placeholder="e.g. Oak House" />
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label" for="flat">Flat / Unit</label>
                  <input type="text" id="flat" name="flat" class="form-input" placeholder="e.g. Flat 2A" autocomplete="address-line1"/>
                </div>
                <div class="form-group flex-2">
                  <label class="form-label" for="street">Street <span class="required">*</span></label>
                  <input type="text" id="street" name="street" class="form-input" placeholder="e.g. High Street" required autocomplete="address-line2"/>
                  <span class="error-message" id="street_error"></span>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label" for="post_town">Town/City <span class="required">*</span></label>
                  <input type="text" id="post_town" name="postTown" class="form-input" placeholder="e.g. London" required autocomplete="address-level2"/>
                  <span class="error-message" id="post_town_error"></span>
                </div>
                <div class="form-group">
                  <label class="form-label" for="post_code">Post Code <span class="required">*</span></label>
                  <input type="text" id="post_code" name="postCode" class="form-input" placeholder="e.g. SW1A 1AA" required autocomplete="postal-code"/>
                  <span class="error-message" id="post_code_error"></span>
                </div>
              </div>
            </div>
          </div>

          <div class="button-row">
            <button type="button" class="btn btn-secondary" id="back_to_step1">
              <span class="btn-icon">‚Üê</span> Back
            </button>
            <button type="button" class="btn btn-primary" id="next_to_step3">
              Continue <span class="btn-icon">‚Üí</span>
            </button>
          </div>
          
          <div class="page-footer">
            <p class="footer-disclaimer">We'll explain our fees clearly if we think you may have a claim. <br>Full details are shared before you decide to proceed.</p>
            <img src="/static/icons/trust_secure.png" alt="Trust and Security" class="trust-logo">
          </div>
        </div>

        <!-- === STEP 3: Mobile Verification === -->
        <div class="form-step" id="step3" style="display:none;">
          <div class="step-header">
            <h2 class="step-title">Mobile Verification</h2>
            <p class="step-subtitle">We'll send you a code to verify your mobile number</p>
          </div>

          <div class="form-section">
            <div class="verification-card">
              <div class="form-group">
                <label class="form-label" for="mobile">Mobile Number <span class="required">*</span></label>
                <input type="tel" id="mobile" name="mobile" class="form-input form-input-large" required autocomplete="tel" placeholder="07XXX XXXXXX">
                <span class="error-message" id="mobile_error"></span>
              </div>
              
              <button type="button" class="btn btn-primary btn-large" id="send_otp">
                <span class="btn-icon">üì±</span> Send Verification Code
              </button>
              
              <div id="otp_message" class="info-message" style="display:none;"></div>
            </div>
            
            <div id="otp_verification" class="verification-card" style="display:none;">
              <div class="form-group">
                <label class="form-label" for="otp">Enter 6-digit Code <span class="required">*</span></label>
                <input type="text" id="otp" name="otp" class="form-input form-input-large otp-input" autocomplete="one-time-code" inputmode="numeric" maxlength="6" placeholder="XXXXXX">
                <span class="error-message" id="otp_error"></span>
              </div>
              
              <button type="button" class="btn btn-primary btn-large" id="verify_otp">
                <span class="btn-icon">‚úì</span> Verify Code
              </button>
              
              <div id="otp_status" class="status-message"></div>
              
              <div class="resend-container">
                <button type="button" class="btn-link" id="resend_otp">Resend code</button>
              </div>
            </div>
          </div>

          <div class="button-row">
            <button type="button" class="btn btn-secondary" id="back_to_step2">
              <span class="btn-icon">‚Üê</span> Back
            </button>
            <button type="button" class="btn btn-primary" id="next_to_step4" disabled>
              Continue <span class="btn-icon">‚Üí</span>
            </button>
          </div>
          
          <div class="page-footer">
            <p class="footer-disclaimer">We'll explain our fees clearly if we think you may have a claim. <br>Full details are shared before you decide to proceed.</p>
            <img src="/static/icons/trust_secure.png" alt="Trust and Security" class="trust-logo">
          </div>
        </div>

        <!-- === STEP 4: Review & Submit === -->
        <div class="form-step" id="step4" style="display:none;">
          <div class="step-header">
            <h2 class="step-title">Prove it's Really You</h2>
            <p class="step-subtitle">To protect your identity and ensure secure access, we'll verify your identity using your mobile number before proceeding</p>
          </div>
          
          <div class="form-section">
            <div class="review-card" id="review_summary">
              <!-- Populated by JS -->
            </div>

            <div class="consent-section">
              <label class="checkbox-container">
                <input type="checkbox" id="consent_checkbox" />
                <span class="checkbox-label">
                  I confirm the information above is accurate and consent to identity verification to proceed with my claim
                </span>
              </label>
              
              <div class="consent-submit" style="margin-top: 2rem; text-align: center;">
                <button type="button" class="btn btn-primary btn-large" id="submit_and_verify" disabled>
                  <span class="btn-icon">üîç</span> Submit & Verify Identity
                </button>
              </div>
            </div>

            <div id="identity_status" class="identity-status" style="display:none;">
              <div class="status-icon"></div>
              <div class="status-content">
                <h4 class="status-title"></h4>
                <p class="status-message"></p>
              </div>
            </div>
            
            <div id="verified_continue" style="display:none; margin-top: 2rem;">
              <p style="color: var(--text-secondary); margin-bottom: 1.5rem; text-align: center;">Identity verification complete. Ready to search for your finance records?</p>
              
              <div class="consent-section" style="margin-top: 0;">
                <label class="checkbox-container">
                  <input type="checkbox" id="credit_consent_checkbox" />
                  <span class="checkbox-label">
                    I consent to a soft credit check to examine my credit report for prior motor vehicle finance. This is guaranteed to have no impact on my credit score.
                  </span>
                </label>
              </div>
            </div>
            
            <div id="change_mobile_section" class="change-mobile-section" style="display:none;">
              <div class="info-note" style="margin-top: 2rem;">
                <div class="info-icon">‚ÑπÔ∏è</div>
                <p>If you have a different mobile number that may be linked to your credit file, please try that number instead.</p>
              </div>
              <button type="button" class="btn btn-secondary" id="change_mobile_btn" style="margin-top: 1rem;">
                <span class="btn-icon">üì±</span> Try Different Mobile Number
              </button>
            </div>
          </div>
          
          <div class="button-row">
            <button type="button" class="btn btn-secondary" id="back_to_step3">
              <span class="btn-icon">‚Üê</span> Back
            </button>
            <button type="button" class="btn btn-primary" id="next_to_step5" disabled>
              üîç Search My Finance Records <span class="btn-icon">‚Üí</span>
            </button>
          </div>
          
          <div class="page-footer">
            <p class="footer-disclaimer">We'll explain our fees clearly if we think you may have a claim. <br>Full details are shared before you decide to proceed.</p>
            <img src="/static/icons/trust_secure.png" alt="Trust and Security" class="trust-logo">
          </div>
        </div>

        <!-- === STEP 5: Your Lenders === -->
        <div class="form-step" id="step5" style="display:none;">
          <div class="step-header">
            <h2 class="section-heading">Your Lenders</h2>
            <p class="step-subtitle">Here's what our checks have found</p>
          </div>
          
          <div class="form-section">
            <div id="found_list" class="lenders-list">
              <!-- JS will inject lender items here -->
            </div>
            
            <div class="additional-actions">
              <button type="button" class="btn btn-primary" id="add_lender_btn">
                <span class="btn-icon">+</span> Add Additional Lenders
              </button>
              
              <div class="info-note">
                <div class="info-icon">‚Ñπ</div>
                <p>
                  Don't worry if you can't recall any details. We'll run additional checks over the next 24 hours 
                  to search for historic contracts up to 7 years old. We'll contact you with any further matches found.
                </p>
              </div>
            </div>

            <div id="combined_lenders_display" class="combined-lenders-section" style="display:none;">
              <h3>All Selected Finance Agreements</h3>
              <div id="combined_lenders_list" class="lenders-list">
                <!-- JS will populate this with both found and manually added lenders -->
              </div>
            </div>
          </div>

          <div class="button-row">
            <button type="button" class="btn btn-secondary" id="back_to_step4">
              <span class="btn-icon">‚Üê</span> Back
            </button>
            <button type="button" class="btn btn-primary" id="next_to_step6">
              Final steps to submit your claim <span class="btn-icon">‚Üí</span>
            </button>
          </div>
          
          <div class="page-footer">
            <p class="footer-disclaimer">We'll explain our fees clearly if we think you may have a claim. <br>Full details are shared before you decide to proceed.</p>
            <img src="/static/icons/trust_secure.png" alt="Trust and Security" class="trust-logo">
          </div>
        </div>

        <!-- === STEP 6: Final Submit === -->
        <div class="form-step" id="step6" style="display:none;">
          <div class="step-header">
            <h2 class="step-title">Final Steps</h2>
            <p class="step-subtitle">Complete your claim submission</p>
          </div>
          
          <div class="form-section">
            <div class="final-submit-card">
              <div class="check-icon">üéØ</div>
              <h3>Ready to Submit Your Claim</h3>
              <p>We've gathered all the information needed to process your vehicle finance claim. Click below to complete your submission.</p>
              
              <button type="submit" class="btn btn-primary btn-large" id="final_submit_form">
                <span class="btn-icon">‚úì</span> Submit My Claim
              </button>
            </div>
          </div>

          <div class="button-row">
            <button type="button" class="btn btn-secondary" id="back_to_step5">
              <span class="btn-icon">‚Üê</span> Back
            </button>
          </div>
          
          <div class="page-footer">
            <p class="footer-disclaimer">We'll explain our fees clearly if we think you may have a claim. <br>Full details are shared before you decide to proceed.</p>
            <img src="/static/icons/trust_secure.png" alt="Trust and Security" class="trust-logo">
          </div>
        </div>
      </div>
      <!-- END OF CENTERING WRAPPER -->

    </form>
    
    <!-- Loading Overlay -->
    <div id="loading_overlay" class="loading-overlay" style="display:none;">
      <div class="loading-content">
        <div class="spinner"></div>
        <div class="loading-text">Processing...</div>
      </div>
    </div>
    
    <!-- Centered Error Modal -->
    <div id="error_modal" class="error-modal" style="display:none;">
      <div class="error-modal-content">
        <div class="error-icon">‚ö†Ô∏è</div>
        <div class="error-text"></div>
        <button class="btn btn-primary error-close">OK</button>
      </div>
    </div>
  </div>

  <script src="/js/app.js"></script>
  
  <!-- Loading page script -->
  <script>
    // Hide loading page after 2 seconds
    window.addEventListener('load', () => {
      setTimeout(() => {
        const loadingPage = document.getElementById('loadingPage');
        loadingPage.classList.add('hidden');
        setTimeout(() => {
          loadingPage.style.display = 'none';
        }, 500);
      }, 2000);
    });
  </script>
</body>
</html>